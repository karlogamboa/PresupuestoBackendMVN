# API Gateway Authorizer Configuration (QA)
api.gateway.authorizer.enabled=${/fin/${ENVIRONMENT:qa}/presupuesto/api-gateway/authorizer-enabled:true}
api.gateway.user.header.name=${/fin/${ENVIRONMENT:qa}/presupuesto/api-gateway/user-header-name:x-user-id}
api.gateway.roles.header.name=${/fin/${ENVIRONMENT:qa}/presupuesto/api-gateway/roles-header-name:x-user-roles}
api.gateway.email.header.name=${/fin/${ENVIRONMENT:qa}/presupuesto/api-gateway/email-header-name:x-user-email}

# CORS Configuration (QA)
cors.allowed-origins=${/fin/${ENVIRONMENT:qa}/presupuesto/cors/allowed-origins:*}
cors.allowed-methods=${/fin/${ENVIRONMENT:qa}/presupuesto/cors/allowed-methods:DELETE,GET,HEAD,OPTIONS,PATCH,POST,PUT}
cors.allowed-headers=${/fin/${ENVIRONMENT:qa}/presupuesto/cors/allowed-headers:*,X-User-Roles,X-User-Id,X-User-Email,Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token}

# Security Configuration
security.auth.enabled=${/fin/${ENVIRONMENT:qa}/presupuesto/security/auth/enabled:false}

# Desactiva el filtro characterEncodingFilter en Lambda/QA para evitar doble registro
spring.web.encoding.enabled=${/fin/${ENVIRONMENT:qa}/presupuesto/spring/web/encoding/enabled:false}

# AWS Configuration
aws.region=${/fin/${ENVIRONMENT:qa}/presupuesto/aws/region:${AWS_REGION:us-east-2}}
aws.dynamodb.table.prefix=${/fin/${ENVIRONMENT:qa}/presupuesto/aws/dynamodb/table/prefix:${TABLE_PREFIX:fin-dynamodb-${ENVIRONMENT:qa}-presupuesto-}}

# Tablas DynamoDB
aws.dynamodb.table.proveedores=${aws.dynamodb.table.prefix}proveedores
aws.dynamodb.table.categoriasGasto=${aws.dynamodb.table.prefix}categorias-gasto
aws.dynamodb.table.solicitudes=${aws.dynamodb.table.prefix}solicitudes
aws.dynamodb.table.departamentos=${aws.dynamodb.table.prefix}departamentos
aws.dynamodb.table.scim-users=${aws.dynamodb.table.prefix}scim-users
aws.dynamodb.table.scim-groups=${aws.dynamodb.table.prefix}scim-groups

# Email sender address (must be SES verified)
email.from=${/fin/${ENVIRONMENT:qa}/presupuesto/aws/ses/email/from:karlo@zicral.com}

# SCIM Configuration
scim.enabled=${/fin/${ENVIRONMENT:qa}/presupuesto/scim/enabled:true}
scim.base-path=/scim/v2
scim.token=${/fin/${ENVIRONMENT:qa}/presupuesto/scim/token:scim-2025-qa-BEARER-2f8c1e7a4b7d4e8c9a1f6b3c2d5e7f8a}


# Stage para QA
stage=qa


# SAML2 Configuration (CDC)
# spring.security.saml2.relyingparty.registration.okta.assertingparty.entity-id=${/fin/${ENVIRONMENT:qa}/presupuesto/spring/security/saml2/relyingparty/registration/okta/assertingparty/entity-id:http://www.okta.com/exkobc5p4hFmQDKYd1d7}
# spring.security.saml2.relyingparty.registration.okta.assertingparty.metadata-uri=${/fin/${ENVIRONMENT:qa}/presupuesto/spring/security/saml2/relyingparty/registration/okta/assertingparty/metadata-uri:https://circulodecredito.oktapreview.com/app/exkobc5p4hFmQDKYd1d7/sso/saml/metadata}

# spring.security.saml2.relyingparty.registration.okta.assertingparty.entity-id=http://www.okta.com/exktiw7x5dBKBcgUs697
# spring.security.saml2.relyingparty.registration.okta.assertingparty.metadata-uri=https://trial-4567848.okta.com/app/exktiw7x5dBKBcgUs697/sso/saml/metadata


# Configuración de AWS
amazon.aws.region=us-east-2


# Service Provider (Tu Aplicación Lambda)
# onelogin.saml2.sp.entityid = http://www.okta.com/exktiw7x5dBKBcgUs697
# onelogin.saml2.sp.assertion_consumer_service.url = https://v9hhsb7ju3.execute-api.us-east-2.amazonaws.com/qa/saml/acs
# onelogin.saml2.sp.name_id_format = urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress

# Identity Provider (Okta) - Obtenido de tus metadatos
# onelogin.saml2.idp.entityid = http://www.okta.com/exktiw7x5dBKBcgUs697
# onelogin.saml2.idp.single_sign_on_service.url = https://trial-4567848.okta.com/app/exktiw7x5dBKBcgUs697/sso/saml/metadata
# onelogin.saml2.idp.x509cert = MIIDqjCCApKgAwIBAgIGAZg6dD2FMA0GCSqGSIb3DQEBCwUAMIGVMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFjAUBgNVBAMMDXRyaWFsLTQ1Njc4NDgxHDAaBgkqhkiG9w0BCQEWDWluZm9Ab2t0YS5jb20wHhcNMjUwNzI0MDMyMTMzWhcNMzUwNzI0MDMyMjMzWjCBlTELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoMBE9rdGExFDASBgNVBAsMC1NTT1Byb3ZpZGVyMRYwFAYDVQQDDA10cmlhbC00NTY3ODQ4MRwwGgYJKoZIhvcNAQkBFg1pbmZvQG9rdGEuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB CgKCAQEAnkMGCHteDBpd9/wUCQUrBqpR3ScORzpfGlfHqFqWOaGQ/STo3DOq9K46SVZCtQL0JTFPGTiORkBKtAnybXhA5MEV6OuKcCABxxP8uJa0a0jikMFiDSV0kIs3zGGr4na6HTnc2gZsvwD7yGivioOEfqT0+nm7e4MhKFyRKsT7UxW/AuYwGDHweXZf0I3yaoPKdIr9u+Rb3tIFXqN9O3r0XX3CAAcAU8YP5fgW3sq3Z6rQT0VFlUH5WavNStntwPENhvBALpmBY5pax2nST+aQxSNqkuE+xV7Y87EucoEXKAfvwgMkjMzG0jndlmD7h64l+MV8btIq7dKUIY3y1FvAzwIDAQABMA0GCSqGSIb3DQEBCwUAA4IBAQACqJMVgPjzuUepX5F+cdUjM2eUYgpRwVL+SP7Lmbkg4umY7vNYa2Bv4O0bVIBRThnKv8N55CyWYarjTS9GjWU1k8qgUOiuI3geGkpklGTGK5DR4pWuD+sGLZx1kX6dkFkncphrXg8TVgVgnLbGTCcugZeoE+zr0IP8IKCjbR7sP1WzOg4LG+nPeqlejwwmAHy+6VLmMwbsRrhyVOU8diPHx7evjqv7Ed/scD6L2RlOj0+e13UDDkdC+suwPwZ37EKxdXGMOk3Xjr5cd843I7AYAzKIQde8KDCIelk8yphqN8CVv1OEtCbafUWdQ351jEY2T9gNiZr/zI1fz7IsKMaS
spring.security.saml2.relyingparty.registration.okta.assertingparty.metadata-uri=${/fin/${ENVIRONMENT:qa}/presupuesto/spring/security/saml2/relyingparty/registration/okta/assertingparty/metadata-uri:https://trial-4567848.okta.com/app/exktiw7x5dBKBcgUs697/sso/saml/metadata}
spring.security.saml2.relyingparty.registration.okta.assertingparty.entity-id=${/fin/${ENVIRONMENT:qa}/presupuesto/spring/security/saml2/relyingparty/registration/okta/assertingparty/entity-id:http://www.okta.com/exktiw7x5dBKBcgUs697}

# Configuración de seguridad
onelogin.saml2.security.authnrequest_signed = false
onelogin.saml2.security.want_assertions_signed = true