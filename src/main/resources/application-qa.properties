# QA-specific settings
logging.level.com.cdc.presupuesto=DEBUG
logging.level.com.cdc.presupuesto.scim=DEBUG
logging.level.com.cdc.presupuesto.controller.ScimController=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.software.amazon.awssdk=INFO
logging.level.root=INFO
logging.level.org.springframework.security.saml2=DEBUG

# API Gateway Authorizer Configuration (QA)
api.gateway.authorizer.enabled=${/fin/${ENVIRONMENT:qa}/presupuesto/api-gateway/authorizer-enabled:true}
api.gateway.user.header.name=${/fin/${ENVIRONMENT:qa}/presupuesto/api-gateway/user-header-name:x-user-id}
api.gateway.roles.header.name=${/fin/${ENVIRONMENT:qa}/presupuesto/api-gateway/roles-header-name:x-user-roles}
api.gateway.email.header.name=${/fin/${ENVIRONMENT:qa}/presupuesto/api-gateway/email-header-name:x-user-email}

# CORS Configuration (QA)
cors.allowed-origins=${/fin/${ENVIRONMENT:qa}/presupuesto/cors/allowed-origins:*}
cors.allowed-methods=${/fin/${ENVIRONMENT:qa}/presupuesto/cors/allowed-methods:DELETE,GET,HEAD,OPTIONS,PATCH,POST,PUT}
cors.allowed-headers=${/fin/${ENVIRONMENT:qa}/presupuesto/cors/allowed-headers:*,X-User-Roles,X-User-Id,X-User-Email,Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token}

# Security Configuration
security.auth.enabled=${/fin/${ENVIRONMENT:qa}/presupuesto/security/auth/enabled:false}

# Desactiva el filtro characterEncodingFilter en Lambda/QA para evitar doble registro
spring.web.encoding.enabled=${/fin/${ENVIRONMENT:qa}/presupuesto/spring/web/encoding/enabled:false}

# AWS Configuration
aws.region=${/fin/${ENVIRONMENT:qa}/presupuesto/aws/region:${AWS_REGION:us-east-2}}
aws.dynamodb.endpoint=${/fin/${ENVIRONMENT:qa}/presupuesto/aws/dynamodb/endpoint:${DYNAMODB_ENDPOINT:}}
aws.dynamodb.table.prefix=${/fin/${ENVIRONMENT:qa}/presupuesto/aws/dynamodb/table/prefix:${TABLE_PREFIX:fin-dynamodb-${ENVIRONMENT:qa}-presupuesto-}}

# Tablas DynamoDB
aws.dynamodb.table.proveedores=${aws.dynamodb.table.prefix}proveedores
aws.dynamodb.table.categoriasGasto=${aws.dynamodb.table.prefix}categorias-gasto
aws.dynamodb.table.solicitudes=${aws.dynamodb.table.prefix}solicitudes
aws.dynamodb.table.departamentos=${aws.dynamodb.table.prefix}departamentos
aws.dynamodb.table.scim-users=${aws.dynamodb.table.prefix}scim-users
aws.dynamodb.table.scim-groups=${aws.dynamodb.table.prefix}scim-groups

# Email sender address (must be SES verified)
email.from=${/fin/${ENVIRONMENT:qa}/presupuesto/aws/ses/email/from:karlo@zicral.com}

# SCIM Configuration
scim.enabled=${/fin/${ENVIRONMENT:qa}/presupuesto/scim/enabled:true}
scim.base-path=/scim/v2
scim.token=scim-2025-qa-BEARER-2f8c1e7a4b7d4e8c9a1f6b3c2d5e7f8a

# SAML2 Configuration
saml2.entity-id=https://v9hhsb7ju3.execute-api.us-east-2.amazonaws.com/qa/presupuesto
saml2.sso-url=https://v9hhsb7ju3.execute-api.us-east-2.amazonaws.com/qa/login/saml2/sso/okta
saml2.cert-path=qa-okta.cert
spring.security.saml2.relyingparty.registration.okta.asserting-party.entity-id=https://v9hhsb7ju3.execute-api.us-east-2.amazonaws.com/qa/presupuesto

# Stage para QA
stage=/qa
